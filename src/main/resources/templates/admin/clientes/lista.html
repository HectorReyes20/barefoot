<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <head th:replace="~{admin/layout/head :: head(titulo='Gestión de Usuarios')}"></head>
</head>
<body>

<div th:replace="~{admin/layout/sidebar :: sidebar(paginaActiva='clientes')}"></div>

<div class="main-content">
    <div th:replace="~{admin/layout/navbar :: navbar(tituloPagina='Gestión de Usuarios', iconoPagina='fas fa-users-cog')}"></div>

    <div th:if="${mensaje}" th:class="'alert alert-' + ${tipoMensaje}" role="alert">
        <i class="fas fa-info-circle me-2"></i>
        <span th:text="${mensaje}"></span>
    </div>

    <div class="content-card">
        <ul class="nav nav-tabs" id="userTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="clientes-tab" data-bs-toggle="tab" data-bs-target="#clientes" type="button" role="tab">Clientes</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="encargados-tab" data-bs-toggle="tab" data-bs-target="#encargados" type="button" role="tab">Encargados</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="admins-tab" data-bs-toggle="tab" data-bs-target="#admins" type="button" role="tab">Admins</button>
            </li>
        </ul>

        <div class="tab-content" id="userTabsContent">
            <!-- Pestaña Clientes -->
            <div class="tab-pane fade show active" id="clientes" role="tabpanel">
                <div th:replace="~{admin/clientes/fragments :: userTable(${clientes}, 'Clientes')}"></div>
            </div>
            <!-- Pestaña Encargados -->
            <div class="tab-pane fade" id="encargados" role="tabpanel">
                <div th:replace="~{admin/clientes/fragments :: userTable(${encargados}, 'Encargados')}"></div>
            </div>
            <!-- Pestaña Admins -->
            <div class="tab-pane fade" id="admins" role="tabpanel">
                <div th:replace="~{admin/clientes/fragments :: userTable(${admins}, 'Admins')}"></div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio - Barefoot Store</title>
    <link rel="stylesheet" th:href="@{/css/inicio.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
        <a class="navbar-brand" href="#">
            <i class="fas fa-shoe-prints me-2"></i> Barefoot Store
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="#"><i class="fas fa-home me-1"></i> Inicio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#productos"><i class="fas fa-shopping-bag me-1"></i> Productos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><i class="fas fa-palette me-1"></i> Personalizar</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><i class="fas fa-shopping-cart me-1"></i> Carrito</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user-circle me-1"></i> <span th:text="${nombreUsuario}">Usuario</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i> Mi Perfil</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-box me-2"></i> Mis Pedidos</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" th:href="@{/logout}"><i class="fas fa-sign-out-alt me-2"></i> Cerrar Sesi√≥n</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <h1>Bienvenido, <span th:text="${nombreUsuario}">Usuario</span>!</h1>
        <p>Descubre el calzado barefoot que transformar√° tu forma de caminar</p>
        <a href="#productos" class="btn btn-custom">
            <i class="fas fa-palette me-2"></i> Personaliza tu calzado
        </a>
    </div>
</section>

<!-- Welcome Message -->
<div class="container">
    <div class="user-welcome">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h4 class="mb-2"><i class="fas fa-sparkles me-2" style="color: var(--accent-color);"></i> ¬°Estamos felices de tenerte aqu√≠!</h4>
                <p class="mb-0 text-muted">Explora nuestra colecci√≥n de calzado barefoot dise√±ado para la salud de tus pies</p>
            </div>
            <div class="col-md-4 text-end">
                <a href="#productos" class="btn btn-outline-success">
                    <i class="fas fa-gift me-2"></i> Ver ofertas
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<section class="features">
    <div class="container">
        <div class="section-title">
            <h2>¬øPor qu√© elegir Barefoot?</h2>
            <p class="text-muted">Salud, comodidad y estilo en cada paso</p>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card">
                    <i class="fas fa-heartbeat"></i>
                    <h3>Salud Podol√≥gica</h3>
                    <p>Dise√±ados para respetar la anatom√≠a natural del pie, mejorando tu postura y reduciendo dolores</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <i class="fas fa-palette"></i>
                    <h3>100% Personalizable</h3>
                    <p>Elige colores, materiales y dise√±os. Crea el zapato perfecto que refleje tu personalidad</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <i class="fas fa-star"></i>
                    <h3>Calidad Premium</h3>
                    <p>Materiales de primera calidad, fabricaci√≥n artesanal y dise√±o contempor√°neo</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Products Section -->
<section class="products-section" id="productos">
    <div class="container">
        <div class="section-title">
            <h2>Nuestra Colecci√≥n</h2>
            <p class="text-muted">Descubre los modelos m√°s populares</p>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card product-card">
                    <img src="https://images.unsplash.com/photo-1560769629-975ec94e6a86?w=500" class="card-img-top" alt="Zapato Casual">
                    <div class="card-body">
                        <h5 class="card-title">Urban Barefoot</h5>
                        <p class="card-text text-muted">Elegante y c√≥modo para el d√≠a a d√≠a</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="product-price">S/ 299.00</span>
                            <button class="btn btn-add-cart">
                                <i class="fas fa-shopping-cart me-1"></i> Agregar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card product-card">
                    <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=500" class="card-img-top" alt="Zapato Deportivo">
                    <div class="card-body">
                        <h5 class="card-title">Sport Flex</h5>
                        <p class="card-text text-muted">M√°xima flexibilidad para tu actividad</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="product-price">S/ 349.00</span>
                            <button class="btn btn-add-cart">
                                <i class="fas fa-shopping-cart me-1"></i> Agregar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card product-card">
                    <img src="https://images.unsplash.com/photo-1549298916-b41d501d3772?w=500" class="card-img-top" alt="Zapato Formal">
                    <div class="card-body">
                        <h5 class="card-title">Classic Barefoot</h5>
                        <p class="card-text text-muted">Elegancia profesional y confort</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="product-price">S/ 399.00</span>
                            <button class="btn btn-add-cart">
                                <i class="fas fa-shopping-cart me-1"></i> Agregar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Chatbot -->
<div class="chatbot-container">
    <button class="chatbot-button" id="chatbotToggle">
        <i class="fas fa-comments"></i>
    </button>

    <div class="chatbot-window" id="chatbotWindow">
        <div class="chatbot-header">
            <div>
                <h5><i class="fas fa-robot me-2"></i>Asistente Barefoot</h5>
                <small>En l√≠nea</small>
            </div>
            <button class="chatbot-close" id="chatbotClose">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot">
                <div class="message-content">
                    ¬°Hola! üëã Soy tu asistente de Barefoot Store. ¬øEn qu√© puedo ayudarte?
                </div>
            </div>
        </div>

        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Escribe tu mensaje...">
            <button id="chatbotSend">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="bg-dark text-white py-4 mt-5">
    <div class="container text-center">
        <p class="mb-0">&copy; 2024 Barefoot Store Per√∫ - Calzado saludable y personalizado</p>
        <div class="mt-2">
            <a href="#" class="text-white me-3"><i class="fab fa-facebook"></i></a>
            <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
            <a href="#" class="text-white"><i class="fab fa-whatsapp"></i></a>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Chatbot JavaScript
    const chatbotToggle = document.getElementById('chatbotToggle');
    const chatbotWindow = document.getElementById('chatbotWindow');
    const chatbotClose = document.getElementById('chatbotClose');
    const chatbotMessages = document.getElementById('chatbotMessages');
    const chatbotInput = document.getElementById('chatbotInput');
    const chatbotSend = document.getElementById('chatbotSend');

    // Respuestas del chatbot
    const responses = {
        'hola': '¬°Hola! üòä Bienvenido a Barefoot Store. ¬øEn qu√© puedo ayudarte?',
        'barefoot': 'El calzado barefoot imita caminar descalzo, respetando la anatom√≠a del pie. Tiene suela flexible, amplia puntera y cero drop. ¬°Es muy saludable! üë£',
        'precio': 'Nuestros precios van desde S/ 299 hasta S/ 399:\n‚Ä¢ Urban Barefoot: S/ 299\n‚Ä¢ Sport Flex: S/ 349\n‚Ä¢ Classic Barefoot: S/ 399 üí∞',
        'envio': 'Hacemos env√≠os a todo el Per√∫ üáµüá™ En Lima el env√≠o es GRATIS para compras mayores a S/ 200. üì¶',
        'personalizar': 'Puedes personalizar tu calzado eligiendo colores, materiales y detalles √∫nicos. Ve a la secci√≥n "Personalizar" en el men√∫. üé®',
        'talla': 'Manejamos tallas desde la 35 hasta la 45. Te recomendamos consultar nuestra gu√≠a de tallas. üìè',
        'tami': '¬°Tamara Alexandra te amo demasiadoo <3!',
        'pago': 'Aceptamos tarjetas de cr√©dito/d√©bito, transferencias bancarias y pago contra entrega en Lima. üí≥',
        'contacto': 'üìß Email: contacto@barefootstore.pe\nüì± WhatsApp: +51 922 928 818',
        'horario': 'Atendemos de lunes a s√°bado de 9:00 AM - 7:00 PM üïê',
        'gracias': '¬°De nada! üòä ¬øHay algo m√°s en lo que pueda ayudarte?',
        'adios': '¬°Hasta pronto! üëã Gracias por visitar Barefoot Store.',
        'ayuda': 'Puedo ayudarte con:\n‚Ä¢ Informaci√≥n sobre barefoot üëü\n‚Ä¢ Precios üí∞\n‚Ä¢ Env√≠os üì¶\n‚Ä¢ Personalizaci√≥n üé®\n‚Ä¢ Contacto üì±',
        'default': 'Interesante pregunta. Para m√°s informaci√≥n cont√°ctanos:\nüì± WhatsApp: +51 922 928 818\nüìß contacto@barefootstore.pe üòä'
    };

    // Toggle chatbot
    chatbotToggle.addEventListener('click', () => {
        chatbotWindow.classList.toggle('active');
        if (chatbotWindow.classList.contains('active')) {
            chatbotInput.focus();
        }
    });

    chatbotClose.addEventListener('click', () => {
        chatbotWindow.classList.remove('active');
    });

    // Enviar mensaje
    function sendMessage() {
        const message = chatbotInput.value.trim();
        if (message === '') return;

        addMessage(message, 'user');
        chatbotInput.value = '';

        setTimeout(() => {
            const response = getBotResponse(message);
            addMessage(response, 'bot');
        }, 600);
    }

    // Agregar mensaje al chat
    function addMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${sender}`;

        const contentDiv = document.createElement('div');
        contentDiv.className = 'message-content';
        contentDiv.textContent = text;

        messageDiv.appendChild(contentDiv);
        chatbotMessages.appendChild(messageDiv);

        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }

    // Obtener respuesta del bot
    function getBotResponse(message) {
        const lowerMessage = message.toLowerCase();

        for (const key in responses) {
            if (lowerMessage.includes(key)) {
                return responses[key];
            }
        }

        return responses['default'];
    }

    // Event listeners
    chatbotSend.addEventListener('click', sendMessage);
    chatbotInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });

    // Mensaje de bienvenida adicional
    setTimeout(() => {
        addMessage('Puedo ayudarte con informaci√≥n sobre productos, precios, env√≠os y m√°s. ¬°Preg√∫ntame! üí¨', 'bot');
    }, 1000);
</script>
</body>
</html>